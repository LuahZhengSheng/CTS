CREATE TABLE PROMOTIONCODE (
	CODE_ID		INT AUTO_INCREMENT PRIMARY KEY,
	USER_ID		INT NOT NULL,
	PROMOTION_ID	INT NOT NULL,
	PAYMENT_ID	INT NOT NULL,
	CODE	  	VARCHAR(20) NOT NULL,
	DATE_CREATED    TIMESTAMP DEFAULT CURRENT_TIMESTAMP,	
	CODE_STATUS	VARCHAR(20) NOT NULL CHECK (UPPER(CODE_STATUS) IN ('VALID', 'USED','EXPIRED')),
	FOREIGN KEY (USER_ID) REFERENCES USER (USER_ID),
	FOREIGN KEY (PROMOTION_ID) REFERENCES PROMOTION (PROMOTION_ID),
	FOREIGN KEKY (PAYMENT_ID) REFERENCES PAYMENT (PAYMENT_ID)
);